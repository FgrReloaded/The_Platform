<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Community - Platform</title>
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v2.1.6/css/unicons.css">

    <link rel="stylesheet" href="./css/platform.css">
    <link rel="stylesheet" href="./css/community.css">
</head>

<body>
    <div class="overlay"></div>
    <nav>
        <div class="container">
            <h2 class="log" onclick="window.location.href='/platform'">
                The Platform
            </h2>
            <div class="search-bar">
                <i class="uil uil-search"></i>
                <input type="search" id="searchBox" autocomplete="on"
                    placeholder="Search for creators(@username), inspirations, and projects">
                <div id="searchResult" class="searchResult">

                </div>
                <i class="uil uil-times-circle searchClose"></i>
            </div>
            <div class="create">
                <label class="btn btn-primary" id="createPost" for="create-post">Create</label>
                <div class="profile-photo">
                    <img src="" class="userProfile profileHref">
                </div>
                <!-- menu button to show sidebar -->
                <button id="menu-btn"><i class="uil uil-bars"></i></button>
            </div>
        </div>
    </nav>
    <main>
        <div class="container">
            <div class="createPost">
                <div class="createPostHead">
                    <h3>Create a post</h3>
                    <span id="close-create-post"><i class="uil uil-multiply"></i></span>
                </div>
                <div class="userHead">
                    <img src="" class="userProfile" alt="">
                    <h4 class="name"></h4>
                </div>
                <div class="contentArea">
                    <textarea name="content" placeholder="Share what's on your mind" id="content"></textarea>
                    <div id="imgContainer">

                    </div>
                </div>
                <div class="sendSection">
                    <div class="attach">
                        <i class="uil uil-camera" id="imgFileSelector"></i>
                        <i class="uil uil-video" id="videoFileSelector"></i>
                        <input type="file" multiple style="display: none;" accept="image/*" name="imageFile"
                            id="imageFile">
                        <input type="file" style="display: none;" name="videoFile" accept="video/*" id="videoFile">
                    </div>
                    <button class="create" id="post">Post</button>
                </div>
            </div>
            <div class="left">
                <a class="profile profileHref">
                    <div class="profile-photo">
                        <img class="userProfile">
                    </div>
                    <div class="handle">
                        <h4 id="name"></h4>
                        <p class="text-muted" id="username">

                        </p>
                    </div>
                </a>

                <!-- close button -->
                <span id="close-btn"><i class="uil uil-multiply"></i></span>

                <!-------------------- SIDEBAR ------------------------->
                <div class="sidebar">
                    <a onclick="window.location.href='/platform'" class="menu-item">
                        <span><i class="uil uil-home"></i></span>
                        <h3>Home</h3>
                    </a>
                    <!-- <a onclick="window.location.href='/platform?explore=true'" class="menu-item">
                        <span><i class="uil uil-compass"></i></span>
                        <h3>Explore</h3>
                    </a> -->
                    <a href="/community" class="menu-item active" id="notifications">
                        <span><i class="uil uil-users-alt">
                                <!-- <small class="notification-count">9+</small> -->
                            </i></span>
                        <h3>Community</h3>
                        <!-------------------- NOTIFICATION POPUP ---------------->
                        <!-- <div class="notifications-popup">
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-2.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>Keke Benjamin</b> accepted your friend request
                                    <small class="text-muted">2 DAYS AGO</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-3.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>John Doe</b> commented on your post
                                    <small class="text-muted">1 HOUR AGO</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-4.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>Mary Oppong</b> and <b>283 others </b> liked your post
                                    <small class="text-muted">4 MINUTES AGO</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-5.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>Doris Y. Lartey</b> commented on a post you are tagged in
                                    <small class="text-muted">2 DAYS AGO</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-6.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>Donald Trump</b> commented on a post you are tagged in
                                    <small class="text-muted">1 HOUR AGO</small>
                                </div>
                            </div>
                            <div>
                                <div class="profile-photo">
                                    <img src="./images/platform/profile-7.jpg">
                                </div>
                                <div class="notification-body">
                                    <b>jane Doe</b> commented on your post
                                    <small class="text-muted">1 HOUR AGO</small>
                                </div>
                            </div>
                        </div> -->
                        <!-------------------- END NOTIFICATION POPUP ---------------->
                    </a>
                    <a onclick="window.location.href='/platform?message=true'" class="menu-item"
                        id="messages-notification">
                        <span><i class="uil uil-envelope-alt">
                                <!-- <small class="notification-count">6</small> -->
                            </i></span>
                        <h3>Messages</h3>
                    </a>
                    <!-- <a class="menu-item">
                        <span><i class="uil uil-bookmark"></i></span>
                        <h3>Bookmarks</h3>
                    </a> -->
                    <a class="menu-item" id="theme">
                        <span><i class="uil uil-palette"></i></span>
                        <h3>Theme</h3>
                    </a>
                    <a id="logout" class="menu-item">
                        <span><i class="uil uil-sign-out-alt"></i></span>
                        <h3>Logout</h3>
                    </a>
                </div>
                <!-- <button class="logout">Logout</button> -->
                <!------------------- END OF SIDEBAR -------------------->
                <label for="create-post" class="btn btn-primary" id="submitIdea">Submit Your Idea</label>
            </div>
            <div class="middle communityMiddle">
                <i onclick="window.location.href='/community'" class="uil uil-arrow-circle-left back"></i>
                <div class="groups">
                    <div class="header">
                        <span id="allGroups" class="active groupTab">All Groups</span>
                        <span id="myGroups" class="groupTab">My Groups</span>
                        <span id="createGroup" class="groupTab">Create Group</span>
                    </div>
                    <div class="groupBody">
                        <div class="groupBox">
                            <div class="groupCard">
                                <div class="imgArea">
                                    <img src="./images/platform/plat2.png" alt="">
                                    <div class="smallImg">
                                        <img src="./images/platform/palt4.jpg" alt="">
                                    </div>
                                </div>
                                <div class="groupDetails">
                                    <div class="groupName">E-Cell</div>
                                    <span>Public &bull; Club</span>
                                </div>
                                <div class="actionBtn">
                                    <button class="btn btn-secondary"><i class="uil uil-check"></i> Member</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="singleGroup">
                    <div class="groupDetails">
                        <div class="imgSection">
                            <img src="" class="coverImg" alt="">
                            <img src="" class="logo" alt="">
                        </div>
                        <div class="detailsSection">
                            <div class="metaDetails">
                                <h3 class="gName">Innovation Club</h3>
                                <span class="clubBadge">Club</span>
                            </div>
                            <div class="buttonSec">
                                <button class="btn btn-primary joinGroup" id="joinGroup">Join</button>
                            </div>
                            <span class="gType">Public</span>
                            <div class="descDetails">
                                <p class="gDesc">
                                    meant carefully break friendly field declared market behind swung north did prove
                                    term knife pick tired stiff final quiet canal horn cover sound win
                                </p>
                            </div>
                            <!-- <div class="ownerDetails">
                                Creator: <img src="./images/team/Profile photo.jpeg" alt="">
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal">
                <i class="uil uil-times-circle closeModal"></i>
                <div class="inpContainer">
                    <div class="inpGroup">
                        <label for="gName">Group Name</label>
                        <input placeholder="Type a group name..." type="text" name="name" id="gName">
                    </div>
                    <div class="inpGroup">
                        <label for="desc">Group Description</label>
                        <textarea name="desc" id="desc" cols="30" rows="10"></textarea>
                    </div>
                    <div class="inpGroup radioGroup">
                        <label for="">Group Type: </label>
                        <div>
                            <label for="">Public</label>
                            <input type="radio" name="gType" id="" value="Public">
                        </div>
                        <div>
                            <label for="">Private</label>
                            <input type="radio" name="gType" id="" value="Private">
                        </div>
                    </div>
                    <div class="inpGroup radioGroup">
                        <label for="">Group Invite Permissions: </label>
                        <div>
                            <label for="">All Members</label>
                            <input type="radio" name="groupInvite" id="" value="true">
                        </div>
                        <div>
                            <label for="">Creator</label>
                            <input type="radio" name="groupInvite" id="" value="false">
                        </div>
                    </div>
                    <div class="inpGroup radioGroup">
                        <label for="">Group Post Permissions: </label>
                        <div>
                            <label for="">All Members</label>
                            <input type="radio" name="groupPost" id="" value="true">
                        </div>
                        <div>
                            <label for="">Creator</label>
                            <input type="radio" name="groupPost" id="" value="false">
                        </div>
                    </div>
                </div>
                <div class="imgContainer">
                    <div id="upload_group" class="cloudinary-button">
                        <button class="btn btn-primary" id="coverBtn"><i class="uil uil-camera-plus "></i> Add Cover
                            Image</button>
                        <button class="btn btn-success" id="logoBtn"><i class="uil uil-camera-plus "></i> Add
                            Logo</button>
                    </div>
                    <img src="" id="coverImg">
                    <img src="" id="logoImg">
                    <input type="text" style="display: none;" name="coverUrl" id="coverUrl">
                    <input type="text" style="display: none;" name="logoUrl" id="logoUrl">
                    <button class="btn btn-info createGroupBtn" id="createGroupBtn">Create</button>
                </div>
            </div>
        </div>
        <div id="alert" class="alert hideAlert">
            <span class="closebtn" onclick="this.parentElement.classList.add('hideAlert');">&times;</span>
            <strong>Warning!</strong>
            <p id="alertMsg">Username Already Taken, Try Another</p>
          </div>
        </div>
    </main>

    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
    <script type="text/javascript">
        let logoUrl = document.getElementById("logoUrl");
        let coverUrl = document.getElementById("coverUrl");
        let imgContainer = document.querySelector(".imgContainer");
        let logoImg = document.getElementById("logoImg");
        let coverImg = document.getElementById("coverImg");
        let cover = false, logo = false;
        var myWidget = cloudinary.createUploadWidget({
            cloudName: 'dfn0nvt6t',
            uploadPreset: 'platform'
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                if (cover) {
                    coverUrl.value = result.info.secure_url;
                    coverImg.src = result.info.secure_url;
                    coverImg.style.width = "350px";
                    coverImg.style.height = "250px";
                    coverImg.style.border = "2px solid #000"
                    cover = false;
                }
                if (logo) {
                    logoUrl.value = result.info.secure_url;
                    logoImg.src = result.info.secure_url;
                    logoImg.style.width = "100px";
                    logoImg.style.height = "100px";
                    logoImg.style.borderRadius = "1rem";
                    logoImg.style.border = "2px solid #000";
                    logoImg.style.marginTop = "1rem";
                    logo = false;
                }
            }
        }
        );

        logoBtn.addEventListener("click", () => {
            logo = true;
            myWidget.open();
        });
        coverBtn.addEventListener("click", () => {
            cover = true;
            myWidget.open();
        });

    </script>
    <script src="./js/community.js"></script>
</body>

</html>